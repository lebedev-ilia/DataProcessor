# TrendFlow — Спецификация сайта (MVP)

Этот документ содержит полную спецификацию дизайна, структуры и функциональности сайта TrendFlow для MVP.

---

## Содержание

1. [Общая концепция дизайна](#1-общая-концепция-дизайна)
2. [Главная страница (Landing)](#2-главная-страница-landing)
3. [Авторизация и регистрация](#3-авторизация-и-регистрация)
4. [Навигация](#4-навигация)
5. [Создание анализа](#5-создание-анализа)
6. [Страница результатов анализа](#6-страница-результатов-анализа)
7. [Личный кабинет](#7-личный-кабинет)
8. [Состояния и интерактивность](#8-состояния-и-интерактивность)
9. [Адаптивность](#9-адаптивность)
10. [Дополнительные страницы](#10-дополнительные-страницы)
11. [Экспорт и совместное использование](#11-экспорт-и-совместное-использование)
12. [Биллинг и тарифы](#12-биллинг-и-тарифы)
13. [Документация и поддержка](#13-документация-и-поддержка)
14. [Технологический стек](#14-технологический-стек)
15. [Детали реализации](#15-детали-реализации)

---

## 1. Общая концепция дизайна

### 1.1. Стиль
Тёмная тема, минимализм с техно-акцентами, динамические элементы.

### 1.2. Цветовая палитра

**Фоны**:
- Основной фон: `#0a0a0a` (почти чёрный) или `#1a1a1a` (тёмно-серый)
- Карточки/панели: `#1f1f1f` или `#2a2a2a` (немного светлее фона)

**Текст**:
- Основной: `#e0e0e0` или `#f5f5f5` (светло-серый/белый)
- Вторичный: `#a0a0a0` (серый)

**Акценты**:
- Фиолетовые: `#8b5cf6`, `#a78bfa`
- Голубые: `#3b82f6`, `#60a5fa`
- Градиенты: от фиолетового к голубому для кнопок и акцентов

**Пример Tailwind CSS классов**: `bg-gray-900`, `text-gray-100`, `accent-purple-500`, `accent-blue-500`

### 1.3. Типографика

- **Основной шрифт**: Inter (Google Fonts)
  - Заголовки: Inter Bold или Inter SemiBold
  - Текст: Inter Regular
  - Размеры: scale (12px, 14px, 16px, 20px, 24px, 32px, 48px)
- **Моноширинный** (для кода/логов): JetBrains Mono или Fira Code
- **Техно-акценты**: text-shadow для заголовков, letter-spacing для акцентов

### 1.4. Иконки

- Минималистичные, динамические (маленькие анимации)
- Библиотеки: Lucide React или Heroicons
- Анимации: CSS animations или Framer Motion
- Примеры: иконка "анализ" — пульсирующие точки, иконка "загрузка" — вращающийся спиннер

### 1.5. Язык интерфейса

- **Для MVP**: английский и русский
- **Этапы разработки**: сначала русский
- Мультиязычность (i18n) для будущих версий

### 1.6. Логотип

- Логотипа пока нет, нужно создать макеты
- Логотип должен быть динамическим (CSS animations или SVG animations)
- Плавная анимация каждые 10 секунд
- Вариант: буквы "TF" или "TrendFlow" с плавной анимацией (например, градиент движется по буквам)

---

## 2. Главная страница (Landing)

### 2.1. Структура

**Header (sticky)**:
- Слева: логотип (динамический) + название "TrendFlow"
- По центру: меню навигации
- Справа: для неавторизованных — кнопка "Войти", для авторизованных — "Анализ" и "Личный кабинет" (или иконка ЛК)
- Header закреплён в верхней части экрана и не исчезает при прокрутке

**Background (3D динамический)**:
- Технология: Three.js или React Three Fiber
- Варианты для реализации (все три варианта будут реализованы для выбора):
  - Вариант A: абстрактная сеть/граф (узлы = видео, связи = анализ)
  - Вариант B: плавающие частицы, формирующие видео-кадры
  - Вариант C: геометрические фигуры (кубы/сферы), трансформирующиеся в зависимости от скролла
- Интерактивность: фон реагирует на движения мыши и скролл
- Мобильная версия: отключать 3D (слишком тяжёлое), показывать статичный градиент или простую CSS анимацию
- Оптимизация: `requestAnimationFrame`, LOD, минимум полигонов

**Hero секция**:
- Большой заголовок (например: "Прогноз популярности видео на основе AI" или "Предсказывайте успех вашего контента с помощью AI")
- Краткое описание (меньшим шрифтом)
- Две кнопки: "Демо" (открывает пример результата), "Подробнее" (редирект на страницу "Как это работает")

**Description блоки** (алгоритмы):
- Интерактивные секции по модальностям (Visual, Audio, Text)
- Для каждой модальности — уникальный дизайн блока
- **Видео модальность**:
  - Слева: презентация (видео или анимация) — показ работы алгоритма (поиск лиц, объектов, сцен)
  - По центру: динамические кнопки для выбора типа (scene, person, face, object, pose)
  - Справа: краткое описание алгоритма (меняется при выборе кнопки)
  - При изменении выбора кнопки меняется описание и анимация
- **Аудио модальность**:
  - Другое расположение блоков (для разнообразия)
  - Динамическая аудио дорожка (анимация waveform)
- **Текст модальность**: уникальный дизайн блока
- **Описание моделей**: последний блок с красивым описанием моделей

**Тарифы**:
- 3 тарифа (base, pro, personal)
- Уникальный дизайн карточек (не стандартные прямоугольники)
- Идеи: карточки в виде "слоёв" (3D эффект при hover), расположение по диагонали, уникальные формы
- Детали тарифов будут определены позже (после обучения моделей)

**Дополнительные блоки**: можно добавить ещё блоки по необходимости

### 2.2. Реализация Description блоков

- Структура: CSS Grid или Flexbox для адаптивности
- Интерактивные кнопки: React state для переключения между типами
- Анимации:
  - Для видео: Canvas API для рисования bounding boxes (упрощённая визуализация) или готовые GIF/видео
  - Для аудио: Web Audio API для визуализации waveform
- Альтернатива (проще): готовые GIF/видео для каждого типа анализа (создать заранее)

---

## 3. Авторизация и регистрация

### 3.1. Методы авторизации

Для MVP обязательны:
- Классическая регистрация (email + пароль)
- OAuth: Google, GitHub

### 3.2. Страница входа/регистрации

**Структура** (как на сайте Cursor):
- На главной странице справа вверху одна кнопка "Войти"
- При клике — редирект на страницу `/login`
- На странице входа внизу ссылка "Регистрация" (ведёт на `/register`)
- Отдельные страницы `/login` и `/register`

### 3.3. Восстановление пароля

- Функция восстановления пароля нужна для MVP
- Реализация: стандартный flow (email → ссылка для сброса → новый пароль)
- Рекомендация: использовать готовые решения (например, NextAuth.js с функцией reset password)

### 3.4. Согласие на обработку персональных данных

- При регистрации нужно показывать согласие на обработку персональных данных
- Реализация: чекбокс с ссылкой на политику конфиденциальности

---

## 4. Навигация

### 4.1. Header меню

**Для неавторизованных пользователей**:
- "Главная"
- "Документация"
- "Контакты"
- "О нас"
- "Цены"
- "Поддержка"
- Кнопка "Войти" (справа)

**Для авторизованных пользователей**:
- "Главная"
- "Документация"
- "Контакты"
- "О нас"
- "Цены"
- "Поддержка"
- "Анализ" (кнопка)
- "Личный кабинет" (кнопка или иконка)

**Мобильная версия**: hamburger menu (бургер-меню) вместо полного меню

### 4.2. Футер

**Структура**:
- **Левая колонка**: логотип + краткое описание (1-2 предложения)
- **Центральные колонки**: ссылки
  - "Продукт": "Как это работает", "Документация", "API"
  - "Компания": "О нас", "Контакты"
  - "Правовая информация": "Политика конфиденциальности", "Условия использования"
- **Правая колонка**: контакты (email: support@trendflow.ru) + социальные сети (если есть)
- **Нижняя строка**: копирайт "© 2024 TrendFlow. Все права защищены."

**Стиль**: минималистичный, тёмный фон, светлый текст, фиолетовые/голубые акценты на ссылках

### 4.3. Breadcrumbs

- Breadcrumbs не используются (пользователь не знаком с концепцией)

---

## 5. Создание анализа

### 5.1. Форма создания анализа (многошаговая)

**Шаг 1: Источник видео** (табы):
- Таб "YouTube URL":
  - Поле ввода URL
  - Кнопка "Проверить" (валидация URL, получение превью)
  - После проверки: показывать превью видео + автоматически полученные метаданные
- Таб "Загрузить файл":
  - Drag & drop зона
  - Кнопка "Выбрать файл"
  - После загрузки: показывать превью + форма для ввода метаданных

**Шаг 2: Базовая информация**:
- Для YouTube: показываем автоматически полученные метаданные (title, description, duration) + возможность редактировать
- Для upload: форма ввода (title, description, tags, language, category)

**Шаг 3: Конфигурация анализа**:
- Кнопка "Выбрать конфигурацию" → открывается модальное окно/страница с выбором
- Кнопка "Создать новую конфигурацию" → открывается страница создания конфигурации

**Реализация**: многошаговая форма (wizard) с навигацией "Назад/Далее"

### 5.2. Предзагрузка видео

**Новая функция** (из ответов Q52):
- В ЛК раздел "Загруженные видео"
- Пользователь может предзагрузить видео (количество зависит от подписки, например 3 видео)
- Сразу указать метаданные для загруженных видео
- В окне "Новый анализ" можно выбрать предзагруженное видео с метаданными
- В разделе "Загруженные видео" показывать прогресс загрузки и фоновую загрузку
- Не убирать возможность загрузить из окна "Новый анализ"

### 5.3. Страница конфигураций (в ЛК)

**Структура**: две секции
- "Готовые конфигурации" (наши): карточки с названием, описанием, стоимостью, временем, целевой аудиторией
- "Мои конфигурации" (пользовательские): аналогичные карточки + кнопки "Редактировать" и "Удалить"

**Карточка конфигурации**:
- Название (например, "Быстрый анализ")
- Описание (1-2 предложения)
- Иконка/цвет для визуального различия
- Метрики: "~50 ед. • 5 мин" (в правом нижнем углу карточки маленьким шрифтом)
- Тег целевой аудитории: "Для начинающих", "Для аналитиков"
- Кнопка "Использовать" или "Выбрать"

**Дизайн карточек**: градиенты, hover-эффекты, уникальные формы (не просто прямоугольники)

**Примечание**: Детали готовых конфигураций будут определены после обучения первых моделей. Дефолтная конфигурация будет, но состав пока не определён.

### 5.4. Создание/редактирование конфигурации

**Структура страницы**:
- **Левая панель (sticky)**: навигация по модальностям (Visual, Audio, Text, Temporal) + блок "Сводка" внизу
- **Центральная область**: вкладки/секции по модальностям
- **Правая панель (sticky)**: блок "Оценка" (стоимость, время) + предупреждения

**Секция модальности** (например, Visual):
- Группы фичей (аккордеон или вкладки):
  - "Object Detection" (объекты)
  - "Face Analysis" (лица)
  - "Scene Classification" (сцены)
  - "Pose Estimation" (позы)
  - и т.д.

**Карточка фичи**:
- Чекбокс для включения/выключения
- Название фичи (крупно)
- Краткое описание (1-2 предложения)
- Ссылка "Подробнее" → открывает документацию в новой вкладке
- Стоимость и время (маленьким шрифтом)
- Иконка/визуализация (опционально)

**Блок "Сводка" (слева внизу)**:
- Список выбранных фичей (компактно)
- Кнопка "Сохранить конфигурацию"
- Кнопка "Сравнить с существующими" (показывает похожие конфиги)

**Блок "Оценка" (справа вверху)**:
- Крупные цифры: "Стоимость: 125 единиц", "Время: ~15 минут"
- Обновляется в реальном времени при изменении выбора
- Предупреждения (если есть):
  - "⚠️ Недостаточно средств" (если баланс < стоимости)
  - "⚠️ Долгая обработка" (если время > 30 минут)
  - "ℹ️ Рекомендуется для аналитиков" (если выбраны сложные фичи)

**Реализация**: React state для управления выбранными фичами, вычислять стоимость/время через API или локально

### 5.5. Кнопка запуска

- Кнопка "Новый анализ": в header или на главной странице ЛК (primary, крупная)
- Кнопка "Запустить": внизу формы создания анализа (sticky или в конце формы)
- Перед запуском: модальное окно подтверждения с итоговой информацией (видео, конфигурация, стоимость, время)
- После запуска: редирект на страницу "Анализы -> Текущие" с уведомлением "Анализ запущен"

### 5.6. Ограничения на загрузку файлов

- **Длительность**: минимум 5 секунд, максимум 20 минут
- **Разрешение**: до 1080p (4K автоматически downscale до 1080p)
- **Формат**: поддерживаемые форматы видео (MP4, AVI, MOV и т.д.)
- **Максимальный размер файла**: будет определен экспериментально
- **Прогресс загрузки**: показывать для больших файлов
- При большом видео: показывать предупреждение о возможном времени обработки

---

## 6. Страница результатов анализа

### 6.1. Структура (Google Console-стиль)

**Верхняя панель**:
- Breadcrumbs (название анализа)
- Название анализа
- Действия (справа): экспорт, удалить, поделиться, повторить анализ

**Левая панель (sidebar)**:
- Навигация по разделам:
  - "Прогноз" (views/likes)
  - "Visual" (графики по визуальным фичам)
  - "Audio" (графики по аудио)
  - "Text" (графики по тексту)
  - "Рекомендации" (LLM-разбор)

**Центральная область**: контент выбранного раздела

**Правая панель (опционально)**: детали выбранного элемента (например, при клике на график)

### 6.2. Страница прогресса анализа (во время обработки)

**В списке "Текущие"** (в ЛК):
- Карточка с превью видео
- Прогресс-бар (линейный) с процентами
- Текст этапа (небольшими буквами, например "Анализ Аудио")

**На странице анализа** (детальный прогресс):
- Прогресс-бар: анимированный, с процентами, прошедшее время, ETA
- Консоль логов: тёмный фон, моноширинный шрифт, цветовое кодирование (info=синий, warning=жёлтый, error=красный)
  - Формат логов: `[2024-01-15 14:30:25] [INFO] Starting face detection...`
  - Автоскролл: автоматически прокручивать вниз при новых логах
  - Фильтры: возможность фильтровать по уровню (info/warning/error)
  - Альтернатива: "Timeline" визуализация (вертикальная линия с событиями, как в Git history)
- Real-time визуализация:
  - Canvas overlay на превью видео с bounding boxes
  - Показывать текущий этап (например, "Face Detection") + визуализацию на видео
  - Плавные переходы между этапами (fade in/out)
  - Упрощённая версия для MVP: превью кадров с нарисованными bounding boxes после завершения этапа
- WebSocket: для real-time обновлений (polling fallback каждые 2-5 секунд)

**После завершения анализа**:
- Анализ перемещается во вкладку "Завершённые"
- Можно открыть "Отчёт" → отдельная страница с полными результатами

### 6.3. Отображение прогноза

**По умолчанию**: крупные карточки с прогнозом (views/likes) для каждого горизонта (7d, 14d, 21d)

**Переключение вида**: кнопки "Карточки" / "Таблица" / "График"

**График**: Chart.js или Recharts для построения графика прогноза (линия с доверительными интервалами)

**Дополнительно**: метрики качества прогноза (confidence score, если доступен)

### 6.4. Графики и визуализации

**Библиотеки**:
- Chart.js или Recharts (React) — для стандартных графиков (line, bar, pie)
- D3.js — для кастомных визуализаций (heatmaps, сложные графики)
- Plotly.js — для интерактивных графиков (zoom, hover, export)

**Типы графиков**:
- Timeline: эмоции по времени, объекты по времени
- Bar charts: топ эмоций, топ объектов
- Pie charts: распределение сцен, типы объектов
- Heatmaps: эмоции по времени и лицам (если доступно)

**Расположение**: grid layout (CSS Grid), графики в карточках, возможность перетаскивания (drag & drop) для изменения порядка

**Стилизация**: тёмная тема, фиолетовые/голубые акценты, анимации при загрузке

### 6.5. LLM-разбор (рекомендации)

- Раздел "Рекомендации" или "GPT Разбор" в левой панели
- При клике: центральная область показывает текст разбора
- Дизайн текста: карточка с тёмным фоном, читаемый шрифт (Inter), параграфы с отступами
- Дополнительно:
  - Кнопка "Регенерировать" (если пользователь хочет другой разбор)
  - Индикатор модели (например, "GPT-4 Turbo")
  - Загрузка: skeleton loader или typing animation при генерации текста
- Модель для разбора выбирается в личном кабинете (влияет на стоимость)

### 6.6. Действия на странице результатов

**Верхняя панель** (кнопки справа):
- "Скачать отчёт (PDF)" — генерация PDF через библиотеку jsPDF или отправка запроса на backend
- "Экспортировать данные" — dropdown: JSON, CSV, PNG
- "Поделиться" — генерация публичного демо-отчёта
- "Повторить анализ" — открывает форму создания анализа с предзаполненными данными
- "Удалить" — с подтверждением (модальное окно)

### 6.7. Обработка долгих анализов

- Показывать пользователю предупреждение о времени обработки при создании анализа
- Email-уведомления: пользователь включает в настройках ЛК
- Закрытие браузера не влияет на анализ (уже запущенный анализ продолжается)
- При повторном входе: frontend запрашивает актуальную информацию о прогрессе
- Возможность отменить анализ: при отмене все собранные данные удаляются на сервере

---

## 7. Личный кабинет

### 7.1. Структура (Google Console-стиль)

**Верхняя панель**:
- Баланс (крупно) + кнопка "Пополнить"

**Левая панель (sidebar)**:
- "Главная" (dashboard)
- "Анализы"
- "Конфигурации"
- "Загруженные видео" (новая секция)
- "Биллинг"
- "Настройки"

**Центральная область**: контент выбранного раздела

### 7.2. Dashboard (главная страница)

**Карточки метрик**:
- "Всего анализов: 15"
- "Потрачено: 1,250 единиц"
- "Активных: 2"

**Графики**:
- "Расходы по времени" (line chart)
- "Анализы по статусу" (pie chart)

**Последние анализы**: компактный список (5 последних)

### 7.3. Анализы

**Вкладка "Текущие"**:
- Карточки с превью видео
- Прогресс-бар с процентами
- Текст этапа (например "Анализ Аудио")
- При клике: открывается страница детального прогресса

**Вкладка "Завершённые"**:
- Карточки с превью видео (слева)
- Метаданные (справа): "Дата", "Статус", "Стоимость", "Время", "Конфигурация"
- Кнопка "Открыть отчёт" (внизу)
- Фильтры: по дате, статусу, конфигурации
- Поиск: по названию видео или video_id
- Сортировка: по дате, стоимости, статусу

**Правовые моменты**:
- Для YouTube: использовать официальный YouTube API для получения thumbnail (легально)
- Для upload: показывать первый кадр видео (thumbnail) — допустимо, так как пользователь сам загрузил видео
- Альтернатива: иконка видео вместо превью (если есть сомнения)

### 7.4. Пополнение баланса

**Логика** (стандартная, как у Google/Cursor):
- Быстрые кнопки: "500₽", "1000₽", "2000₽", "5000₽"
- Поле "Другая сумма" (с валидацией минимума, например 100₽)
- Выбор способа оплаты: карта, СБП, криптовалюта (если поддерживается)
- Кнопка "Пополнить" → редирект на платёжную систему

**Дизайн** (уникальный):
- Карточки сумм: не просто кнопки, а карточки с градиентами, hover-эффектами
- Визуализация: при выборе суммы показывать анимацию (например, частицы или волны)
- Итоговая карточка: перед оплатой показывать красивую карточку с выбранной суммой и способом оплаты

**Интеграция**: использовать готовые платёжные системы (Stripe, PayPal, или российские аналоги)

### 7.5. Биллинг

**История транзакций**:
- Список пополнений и списаний
- Детализация по анализам (сколько потрачено на каждый анализ)

**График расходов по времени**

**Экспорт истории**: CSV, PDF

### 7.6. Настройки

**Вкладки/секции**:
- "Профиль": имя, email, пароль, аватар
- "Настройки анализа": кэш TTL, уведомления, дефолтная конфигурация
- "Настройки LLM": модель (GPT-4, Claude и т.д.), длина ответа, тон
- "Уведомления": email при завершении анализа, еженедельный отчёт

**Дизайн**: форма с полями ввода, переключатели (toggle) для boolean настроек, сохранение через кнопку "Сохранить" внизу

**Примечание**: Будет много полей, детали будут определены после завершения обучения моделей.

---

## 8. Состояния и интерактивность

### 8.1. Loading состояния

**В списке "Текущие"**:
- Карточка с превью
- Прогресс-бар (линейный) с процентами
- Текст этапа

**На странице анализа**:
- Детальный прогресс-бар с процентами, прошедшее время, ETA
- Консоль логов или Timeline визуализация
- Real-time визуализация на видео (Canvas overlay)

### 8.2. Ошибки и валидация

**Toast-уведомления**:
- Библиотека: react-hot-toast или sonner
- Позиция: правый верхний угол (или правый нижний)
- Цветовое кодирование:
  - Успех: зелёный, иконка галочки
  - Ошибка: красный, иконка крестика
  - Предупреждение: жёлтый, иконка восклицательного знака
- Автозакрытие: через 5 секунд (или кнопка закрытия)
- Использование:
  - Уведомления по анализу (успех/ошибка)
  - Критичные ошибки (недостаточно средств, ошибка обработки)

**Inline ошибки**: под полями ввода (красный текст)

**В логах**: цветовое кодирование (info=синий, warning=жёлтый, error=красный)

### 8.3. Пустые состояния

**Дизайн**: центрированные блоки с иконками, текстом, кнопками действий

**Примеры**:
- "Нет завершённых анализов" → иконка (пустая папка), текст, кнопка "Создать первый анализ"
- "Результаты будут доступны после завершения анализа"
- "Баланс = 0": при клике на "Новый анализ" → модальное окно с предупреждением и кнопкой "Пополнить баланс"
- "Недостаточно средств": в блоке оценки (справа вверху) жёлтая подсветка + иконка предупреждения + текст "Недостаточно средств. Пополните баланс."

### 8.4. Уведомления

**Внутренние уведомления в ЛК**:
- Bell icon с счётчиком непрочитанных уведомлений
- Уведомления о завершении анализов, низком балансе и т.д.

**Email-уведомления**: пользователь включает в настройках ЛК (при завершении анализа, низком балансе)

---

## 9. Адаптивность

### 9.1. Breakpoints

- **Mobile**: < 768px
- **Tablet**: 768px - 1024px
- **Desktop**: > 1024px

### 9.2. Мобильные оптимизации

- Упрощённые графики (меньше деталей)
- Горизонтальный скролл для таблиц
- Hamburger menu вместо полного меню
- Отключение 3D фона (слишком тяжёлое, статичный градиент)
- Вертикальная навигация

### 9.3. Реализация

- Tailwind CSS responsive классы (`sm:`, `md:`, `lg:`) или CSS media queries

---

## 10. Дополнительные страницы

### 10.1. "Как это работает"

- Пошаговое объяснение:
  - Шаг 1: загрузите видео
  - Шаг 2: выберите конфигурацию
  - Шаг 3: получите результат
- Визуализации/анимации для каждого шага
- FAQ секция внизу

### 10.2. Документация

**Инструмент**: будет определен (Docusaurus, GitBook, или Markdown с навигацией)

**Структура** (для MVP, кроме API):
- "Начало работы"
- "Руководства"
- "Фичи"
- "FAQ"

**Поиск**: по документации

**Примеры кода**: если нужно (для интеграций)

**Примечание**: API документация не планируется для MVP

### 10.3. Поддержка

**FAQ страница**:
- Структурированный список вопросов-ответов (аккордеон или поиск)

**LLM-бот**:
- Чат-виджет в правом нижнем углу (floating button)
- Размер окна: минималистичный
- Иконка + возможно текст
- Реализация: готовые решения (Chatbot UI) или кастомный чат
- Модель: GPT-3/4/5 (выбрать оптимально недорогую но качественную)
- Контекст документации: RAG или embedding search (решить оптимально)
- История диалогов: хранить 30 дней, только последние 100 сообщений
- Fallback: если бот не может ответить, предлагать создать тикет

**Тикет-система**:
- Простая форма обратной связи (email, тема, сообщение)
- Или интеграция с готовой системой (Zendesk, Intercom)

---

## 11. Экспорт и совместное использование

### 11.1. Форматы экспорта

**PDF**:
- Генерация через библиотеку jsPDF или отправка запроса на backend
- Содержимое: все графики, текст LLM-разбора, таблицы, или выбранные разделы (настраивается пользователем)

**JSON**:
- Полный формат данных (все фичи) или упрощённый формат для интеграций
- Пользователь может выбрать, какие поля экспортировать

**CSV**:
- Табличные данные, временные ряды
- Пользователь может выбрать, какие данные экспортировать

**PNG**:
- Графики и визуализации (экспорт отдельных графиков)

**Настройка экспорта**:
- По умолчанию: вся информация попадает в экспорт
- Пользователь может выбрать, что убрать из экспорта
- Интерфейс: нужно разработать (чекбоксы, выбор разделов и т.д.)

### 11.2. Поделиться результатами

- Генерация публичного демо-отчёта (без чувствительных данных)
- Содержимое: минимум информации (прогноз в цифрах + немного инфо)
- Превью видео: если разрешено правовыми нормами
- Shareable link (публичная ссылка, доступная всем, у кого есть ссылка)

---

## 12. Биллинг и тарифы

### 12.1. Тарифные планы

- 3 тарифа (base, pro, personal)
- Детали тарифов будут определены позже (после обучения моделей)
- Пока: просто 3 подписки с уникальным дизайном карточек

### 12.2. История биллинга

- История транзакций (пополнения, списания)
- График расходов по времени
- Детализация по анализам (сколько потрачено на каждый анализ)
- Экспорт истории (CSV, PDF)

---

## 13. Документация и поддержка

### 13.1. Правовые документы

- Политика конфиденциальности: нужно создать
- Пользовательское соглашение: нужно создать
- Согласие на обработку персональных данных: показывать при регистрации

### 13.2. SEO

- Уникальные заголовки страниц (title tags) и meta-описания
- Пользователь не знаком с концепцией, но SEO нужно для продвижения

---

## 14. Технологический стек

### 14.1. Frontend

- **Framework**: Next.js (React) + TypeScript
- **Стилизация**: Tailwind CSS
- **UI компоненты**: shadcn/ui (на базе Tailwind)

### 14.2. 3D и анимации

- **3D**: React Three Fiber (обёртка над Three.js для React)
- **Анимации**: Framer Motion

### 14.3. Графики

- **Chart.js** или **Recharts** (React) — для стандартных графиков (line, bar, pie)
- **D3.js** — для кастомных визуализаций (heatmaps, сложные графики)
- **Plotly.js** — для интерактивных графиков (zoom, hover, export)

### 14.4. Дополнительно

- **WebSocket**: для real-time обновлений
- **react-hot-toast** или **sonner**: уведомления
- **Lucide React** или **Heroicons**: иконки
- **NextAuth.js**: авторизация (рекомендация)

---

## 15. Детали реализации

### 15.1. API интеграция

**Формат данных для real-time визуализации**:
- WebSocket соединение для получения событий обработки
- Структура WebSocket сообщений: будет определена при разработке (оптимально для backend и frontend)
- Формат координат bounding boxes: будет определён
- Формат данных о текущем этапе обработки: будет определён
- Формат логов для консоли: будет определён

**Кэширование данных на frontend**:
- Стратегия кэширования: будет определена (оптимально для пользователей)
- Варианты: кэширование метаданных, результатов анализов, или без кэширования

### 15.2. Инструменты для документации

- Выбор инструмента: будет определён (Docusaurus, GitBook, или Markdown с навигацией)
- Рекомендация: Docusaurus (хорошая интеграция с React, простота настройки)

### 15.3. Восстановление пароля

- Стандартный flow: email → ссылка для сброса → новый пароль
- Рекомендация: использовать NextAuth.js с функцией reset password

### 15.4. Поиск

- Глобальный поиск: только по документации (не по сайту в целом)
- Поиск по анализам: по названию видео или video_id (в ЛК)
- Сортировка: по дате, стоимости, статусу (в списке анализов)

---

## Приложение: Открытые вопросы

### Вопросы, которые будут решены позже

1. **Готовые конфигурации**: детали конфигураций (названия, фичи, стоимость, время) — после обучения первых моделей
2. **Тарифные планы**: детали тарифов (что входит, цены) — после обучения моделей
3. **Логотип**: создание макетов логотипа (несколько вариантов для выбора)
4. **Правовые документы**: создание политики конфиденциальности и пользовательского соглашения
5. **Настройки ЛК**: детальные настройки — после завершения обучения моделей
6. **3D фон**: выбор конкретного варианта после реализации всех трёх вариантов

---

## Версия документа

- **Версия**: 1.0 (MVP)
- **Дата**: 2024
- **Статус**: Полуфинальные решения для разработки визуального каркаса

---

